import{s as se,o as re,r as ne,n as le,f as z}from"../chunks/scheduler.B-KQ0TV-.js";import{S as ae,i as oe,m as T,n as D,o as M,k,l as C,p as R,s as I,f as A,g as w,d as u,e as _,c as p,a as E,r as v,h as m,t as S,b as x,u as F,w as J,y as P,j as U}from"../chunks/index.BVfQ5-ZG.js";import{e as L}from"../chunks/spread.DK-xpwbU.js";import{E as ce,a as j,b as B}from"../chunks/EtudeCard.dldt9bLf.js";const ie=[[[0,1,2],[3,4,5]],[[0,1,3],[2,4,5]],[[0,1,4],[2,3,5]],[[0,1,5],[2,3,4]],[[0,2,3],[1,4,5]],[[0,2,4],[1,3,5]],[[0,2,5],[1,3,4]],[[0,3,4],[1,2,5]],[[0,3,5],[1,2,4]],[[0,4,5],[1,2,3]]];function K(o,e){const s=e[o[0]],t=e[o[1]],l=e[o[2]];if(s===t&&t===l)return!0;if(s===t||s===l||t===l)return!1;const a=Math.max(s,Math.max(t,l)),n=Math.min(s,Math.min(t,l));return a-n===2}function q(o){for(const[e,s]of ie)if(K(e,o)&&K(s,o))return!0;return!1}function fe(o,e){const s=[...o].sort((l,a)=>l-a);let t=0;for(let l=0;l<4;l++)s[l]===s[l+1]&&s[l+1]===s[l+2]&&(t+=100-e);for(let l=0;l<4;l++)s[l]+1===s[l+1]&&s[l+1]+1===s[l+2]&&(t+=100-e);for(let l=0;l<5;l++)s[l]===s[l+1]&&(t+=10-e),l<4&&s[l]+1===s[l+1]&&(t+=5-e);return t}function ue(o,e){let s=Number.MIN_SAFE_INTEGER,t=-1;for(let l=0;l<e.length;l++){const a=[...e];a[l]=o;const n=fe(a,0);n>s&&(s=n,t=l)}return t}function Q(o,e,s){const t=o.slice();return t[5]=e[s].roll,t[6]=e[s].diceAfter,t[7]=e[s].replaced,t}function X(o,e,s){const t=o.slice();return t[10]=e[s],t}function Z(o,e,s){const t=o.slice();return t[10]=e[s],t}function he(o){let e,s,t,l,a,n="Reset",r,c;return{c(){e=_("div"),s=_("button"),t=S("Roll"),l=I(),a=_("button"),a.textContent=n,this.h()},l(f){e=p(f,"DIV",{class:!0});var i=E(e);s=p(i,"BUTTON",{class:!0});var d=E(s);t=x(d,"Roll"),d.forEach(u),l=A(i),a=p(i,"BUTTON",{class:!0,"data-svelte-h":!0}),F(a)!=="svelte-1t2pk9e"&&(a.textContent=n),i.forEach(u),this.h()},h(){v(s,"class","game-button svelte-1crfalr"),s.disabled=o[2],v(a,"class","game-button svelte-1crfalr"),v(e,"class","control-buttons svelte-1crfalr")},m(f,i){w(f,e,i),m(e,s),m(s,t),m(e,l),m(e,a),r||(c=[J(s,"click",o[3]),J(a,"click",o[4])],r=!0)},p(f,i){i&4&&(s.disabled=f[2])},d(f){f&&u(e),r=!1,ne(c)}}}function y(o){let e,s=o[10]+"",t;return{c(){e=_("div"),t=S(s),this.h()},l(l){e=p(l,"DIV",{class:!0});var a=E(e);t=x(a,s),a.forEach(u),this.h()},h(){v(e,"class","die svelte-1crfalr")},m(l,a){w(l,e,a),m(e,t)},p(l,a){a&1&&s!==(s=l[10]+"")&&U(t,s)},d(l){l&&u(e)}}}function de(o){let e,s=L(o[0]),t=[];for(let l=0;l<s.length;l+=1)t[l]=y(Z(o,s,l));return{c(){e=_("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=p(l,"DIV",{class:!0});var a=E(e);for(let n=0;n<t.length;n+=1)t[n].l(a);a.forEach(u),this.h()},h(){v(e,"class","dice-row svelte-1crfalr")},m(l,a){w(l,e,a);for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(e,null)},p(l,a){if(a&1){s=L(l[0]);let n;for(n=0;n<s.length;n+=1){const r=Z(l,s,n);t[n]?t[n].p(r,a):(t[n]=y(r),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=s.length}},d(l){l&&u(e),P(t,l)}}}function $e(o){let e,s,t,l,a;return s=new B({props:{title:"Controls",$$slots:{default:[he]},$$scope:{ctx:o}}}),l=new B({props:{title:"Current Dice",$$slots:{default:[de]},$$scope:{ctx:o}}}),{c(){e=_("div"),T(s.$$.fragment),t=I(),T(l.$$.fragment),this.h()},l(n){e=p(n,"DIV",{class:!0});var r=E(e);D(s.$$.fragment,r),t=A(r),D(l.$$.fragment,r),r.forEach(u),this.h()},h(){v(e,"class","etude-grid-narrow")},m(n,r){w(n,e,r),M(s,e,null),m(e,t),M(l,e,null),a=!0},p(n,r){const c={};r&32772&&(c.$$scope={dirty:r,ctx:n}),s.$set(c);const f={};r&32769&&(f.$$scope={dirty:r,ctx:n}),l.$set(f)},i(n){a||(k(s.$$.fragment,n),k(l.$$.fragment,n),a=!0)},o(n){C(s.$$.fragment,n),C(l.$$.fragment,n),a=!1},d(n){n&&u(e),R(s),R(l)}}}function ee(o){let e,s=o[10]+"",t;return{c(){e=_("div"),t=S(s),this.h()},l(l){e=p(l,"DIV",{class:!0});var a=E(e);t=x(a,s),a.forEach(u),this.h()},h(){v(e,"class","die small svelte-1crfalr")},m(l,a){w(l,e,a),m(e,t)},p(l,a){a&2&&s!==(s=l[10]+"")&&U(t,s)},d(l){l&&u(e)}}}function te(o){let e,s,t=o[5]+"",l,a,n,r=o[7]+1+"",c,f,i,d,G,N,H=L(o[6]),g=[];for(let h=0;h<H.length;h+=1)g[h]=ee(X(o,H,h));return{c(){e=_("tr"),s=_("td"),l=S(t),a=I(),n=_("td"),c=S(r),f=I(),i=_("td"),d=_("div");for(let h=0;h<g.length;h+=1)g[h].c();G=I(),this.h()},l(h){e=p(h,"TR",{class:!0});var b=E(e);s=p(b,"TD",{class:!0});var $=E(s);l=x($,t),$.forEach(u),a=A(b),n=p(b,"TD",{class:!0});var V=E(n);c=x(V,r),V.forEach(u),f=A(b),i=p(b,"TD",{class:!0});var W=E(i);d=p(W,"DIV",{class:!0});var Y=E(d);for(let O=0;O<g.length;O+=1)g[O].l(Y);Y.forEach(u),W.forEach(u),G=A(b),b.forEach(u),this.h()},h(){v(s,"class","svelte-1crfalr"),v(n,"class","svelte-1crfalr"),v(d,"class","dice-row small svelte-1crfalr"),v(i,"class","svelte-1crfalr"),v(e,"class",N=z(q(o[6])?"complete":"")+" svelte-1crfalr")},m(h,b){w(h,e,b),m(e,s),m(s,l),m(e,a),m(e,n),m(n,c),m(e,f),m(e,i),m(i,d);for(let $=0;$<g.length;$+=1)g[$]&&g[$].m(d,null);m(e,G)},p(h,b){if(b&2&&t!==(t=h[5]+"")&&U(l,t),b&2&&r!==(r=h[7]+1+"")&&U(c,r),b&2){H=L(h[6]);let $;for($=0;$<H.length;$+=1){const V=X(h,H,$);g[$]?g[$].p(V,b):(g[$]=ee(V),g[$].c(),g[$].m(d,null))}for(;$<g.length;$+=1)g[$].d(1);g.length=H.length}b&2&&N!==(N=z(q(h[6])?"complete":"")+" svelte-1crfalr")&&v(e,"class",N)},d(h){h&&u(e),P(g,h)}}}function me(o){let e,s,t='<tr><th class="svelte-1crfalr">Roll</th> <th class="svelte-1crfalr">Replaced</th> <th class="svelte-1crfalr">Result</th></tr>',l,a,n=L(o[1]),r=[];for(let c=0;c<n.length;c+=1)r[c]=te(Q(o,n,c));return{c(){e=_("table"),s=_("thead"),s.innerHTML=t,l=I(),a=_("tbody");for(let c=0;c<r.length;c+=1)r[c].c();this.h()},l(c){e=p(c,"TABLE",{class:!0});var f=E(e);s=p(f,"THEAD",{"data-svelte-h":!0}),F(s)!=="svelte-psfaa6"&&(s.innerHTML=t),l=A(f),a=p(f,"TBODY",{});var i=E(a);for(let d=0;d<r.length;d+=1)r[d].l(i);i.forEach(u),f.forEach(u),this.h()},h(){v(e,"class","history-table svelte-1crfalr")},m(c,f){w(c,e,f),m(e,s),m(e,l),m(e,a);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(a,null)},p(c,f){if(f&2){n=L(c[1]);let i;for(i=0;i<n.length;i+=1){const d=Q(c,n,i);r[i]?r[i].p(d,f):(r[i]=te(d),r[i].c(),r[i].m(a,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(c){c&&u(e),P(r,c)}}}function _e(o){let e,s;return e=new B({props:{title:"Rolls History",$$slots:{default:[me]},$$scope:{ctx:o}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){M(e,t,l),s=!0},p(t,l){const a={};l&32770&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){s||(k(e.$$.fragment,t),s=!0)},o(t){C(e.$$.fragment,t),s=!1},d(t){R(e,t)}}}function pe(o){let e,s=`<li>Form two sets of three dice each</li> <li>Each set must be either:
						<ul><li>Three of a kind (e.g., 4-4-4)</li> <li>Three consecutive numbers (e.g., 3-4-5)</li></ul></li> <li>All six dice must be used</li>`;return{c(){e=_("ul"),e.innerHTML=s,this.h()},l(t){e=p(t,"UL",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-bo16dg"&&(e.innerHTML=s),this.h()},h(){v(e,"class","etude-list")},m(t,l){w(t,e,l)},p:le,d(t){t&&u(e)}}}function ge(o){let e,s="<li>Click &#39;Roll&#39; to get a new die</li> <li>The AI will choose which die to replace</li> <li>Try to complete both sets in minimal rolls</li> <li>Use &#39;Reset&#39; to start a new game</li>";return{c(){e=_("ul"),e.innerHTML=s,this.h()},l(t){e=p(t,"UL",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-1tb1ijx"&&(e.innerHTML=s),this.h()},h(){v(e,"class","etude-list")},m(t,l){w(t,e,l)},p:le,d(t){t&&u(e)}}}function ve(o){let e,s,t,l,a;return s=new B({props:{title:"Winning Conditions",$$slots:{default:[pe]},$$scope:{ctx:o}}}),l=new B({props:{title:"Game Flow",$$slots:{default:[ge]},$$scope:{ctx:o}}}),{c(){e=_("div"),T(s.$$.fragment),t=I(),T(l.$$.fragment),this.h()},l(n){e=p(n,"DIV",{class:!0});var r=E(e);D(s.$$.fragment,r),t=A(r),D(l.$$.fragment,r),r.forEach(u),this.h()},h(){v(e,"class","etude-grid")},m(n,r){w(n,e,r),M(s,e,null),m(e,t),M(l,e,null),a=!0},p(n,r){const c={};r&32768&&(c.$$scope={dirty:r,ctx:n}),s.$set(c);const f={};r&32768&&(f.$$scope={dirty:r,ctx:n}),l.$set(f)},i(n){a||(k(s.$$.fragment,n),k(l.$$.fragment,n),a=!0)},o(n){C(s.$$.fragment,n),C(l.$$.fragment,n),a=!1},d(n){n&&u(e),R(s),R(l)}}}function be(o){let e,s,t,l,a,n;return e=new j({props:{title:"Game Board",$$slots:{default:[$e]},$$scope:{ctx:o}}}),t=new j({props:{title:"History",$$slots:{default:[_e]},$$scope:{ctx:o}}}),a=new j({props:{title:"Rules",$$slots:{default:[ve]},$$scope:{ctx:o}}}),{c(){T(e.$$.fragment),s=I(),T(t.$$.fragment),l=I(),T(a.$$.fragment)},l(r){D(e.$$.fragment,r),s=A(r),D(t.$$.fragment,r),l=A(r),D(a.$$.fragment,r)},m(r,c){M(e,r,c),w(r,s,c),M(t,r,c),w(r,l,c),M(a,r,c),n=!0},p(r,c){const f={};c&32773&&(f.$$scope={dirty:c,ctx:r}),e.$set(f);const i={};c&32770&&(i.$$scope={dirty:c,ctx:r}),t.$set(i);const d={};c&32768&&(d.$$scope={dirty:c,ctx:r}),a.$set(d)},i(r){n||(k(e.$$.fragment,r),k(t.$$.fragment,r),k(a.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),C(t.$$.fragment,r),C(a.$$.fragment,r),n=!1},d(r){r&&(u(s),u(l)),R(e,r),R(t,r),R(a,r)}}}function Ee(o){let e,s;return e=new ce({props:{title:"Rollin'",description:"Form two sets of three dice where each set is either three of a kind or a sequence of three consecutive numbers.",$$slots:{default:[be]},$$scope:{ctx:o}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){M(e,t,l),s=!0},p(t,[l]){const a={};l&32775&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){s||(k(e.$$.fragment,t),s=!0)},o(t){C(e.$$.fragment,t),s=!1},d(t){R(e,t)}}}function we(o,e,s){let t=Array(6).fill(0),l=[],a=!1;re(()=>{s(0,t=Array(6).fill(0).map(()=>Math.floor(Math.random()*6)+1)),s(1,l=[])});function n(){const c=Math.floor(Math.random()*6)+1,f=ue(c,[...t]);if(f>=0&&f<6){const i=[...t];i[f]=c,s(0,t=i),s(1,l=[...l,{roll:c,diceAfter:[...i],replaced:f}]),s(2,a=q(t))}}function r(){s(0,t=Array(6).fill(0).map(()=>Math.floor(Math.random()*6)+1)),s(1,l=[]),s(2,a=!1)}return[t,l,a,n,r]}class Ce extends ae{constructor(e){super(),oe(this,e,we,Ee,se,{})}}export{Ce as component};
