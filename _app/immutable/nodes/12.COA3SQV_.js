import{s as nt,o as at,d as st,n as j,r as lt}from"../chunks/scheduler.B-KQ0TV-.js";import{S as rt,i as ot,m as D,n as P,o as V,k as L,l as U,p as A,s as g,f as v,g as k,d as p,e as m,c as h,a as M,r as u,h as d,u as b,v as tt,w as B}from"../chunks/index.BVfQ5-ZG.js";import{E as it,a as et,b as H}from"../chunks/EtudeCard.CIRAnrgG.js";function ct(o){return o<=0?o:Math.floor((Math.pow(4,o-1)-1)/3)}function ut(o,t,e){const a=[...t];e*=1e3,(o===0||t.length===0)&&a.push({min:{x:-e/2,y:-e/2},max:{x:e/2,y:e/2}});for(const n of t.slice(ct(o)))a.push({min:{x:n.min.x-e/2,y:n.min.y-e/2},max:{x:n.min.x+e/2,y:n.min.y+e/2}}),a.push({min:{x:n.max.x-e/2,y:n.min.y-e/2},max:{x:n.max.x+e/2,y:n.min.y+e/2}}),a.push({min:{x:n.min.x-e/2,y:n.max.y-e/2},max:{x:n.min.x+e/2,y:n.max.y+e/2}}),a.push({min:{x:n.max.x-e/2,y:n.max.y-e/2},max:{x:n.max.x+e/2,y:n.max.y+e/2}});return a}function ft(o){let t=[];for(let e=0;e<o.length;e++)t=ut(e,t,o[e]);return t}function dt(o){const t=o.trim().split(`
`),e=[],a=[];for(const n of t){const r=n.trim();if(r===""||r.startsWith("#"))continue;const s=r.split("#")[0].trim().split(/\s+/);if(s.length<4)continue;const l=parseFloat(s[0]);if(isNaN(l))continue;const c=parseInt(s[1],10),i=parseInt(s[2],10),f=parseInt(s[3],10);isNaN(c)||isNaN(i)||isNaN(f)||(e.push(l),a.push({r:c,g:i,b:f,a:255}))}if(e.length>0){const n=Math.floor(e.length/2),s=1/e[n];for(let l=0;l<e.length;l++)e[l]*=s}return{scales:e,colors:a}}function mt(o,t,e,a){const n=ft(e);if(n.length===0)return;let r=0;for(const c of n)r=Math.max(r,Math.abs(c.min.x),Math.abs(c.max.x),Math.abs(c.min.y),Math.abs(c.max.y));const s=t/2/r;o.fillStyle="rgba(0, 0, 0, 0)",o.fillRect(0,0,t,t);let l=1;for(let c=0;c<n.length;c++){const i=n[c],f=Math.floor((1-Math.pow(4,l))/-3);c===f&&(l+=1);const x={x:t/2+i.min.x*s,y:t/2+i.min.y*s,width:(i.max.x-i.min.x)*s,height:(i.max.y-i.min.y)*s};if(x.width>0&&x.height>0){const C=a[l-1];o.fillStyle=`rgba(${C.r}, ${C.g}, ${C.b}, ${C.a/255})`,o.fillRect(x.x,x.y,x.width,x.height)}}}function ht(o){let t,e;return{c(){t=m("div"),e=m("canvas"),this.h()},l(a){t=h(a,"DIV",{class:!0});var n=M(t);e=h(n,"CANVAS",{width:!0,height:!0,class:!0}),M(e).forEach(p),n.forEach(p),this.h()},h(){u(e,"width",X),u(e,"height",X),u(e,"class","svelte-1ukabzn"),u(t,"class","canvas-wrapper svelte-1ukabzn")},m(a,n){k(a,t,n),d(t,e),o[5](e)},p:j,d(a){a&&p(t),o[5](null)}}}function pt(o){let t,e,a,n="Example Patterns:",r,s,l,c="Fibonacci",i,f,x="Prime",C,y,G="Monochrome",F,$,O="Minimal",Q,_,W,E,T,z="Generate",Y,q,J="Download PNG",Z,K;return{c(){t=m("div"),e=m("div"),a=m("h4"),a.textContent=n,r=g(),s=m("div"),l=m("button"),l.textContent=c,i=g(),f=m("button"),f.textContent=x,C=g(),y=m("button"),y.textContent=G,F=g(),$=m("button"),$.textContent=O,Q=g(),_=m("textarea"),W=g(),E=m("div"),T=m("button"),T.textContent=z,Y=g(),q=m("button"),q.textContent=J,this.h()},l(I){t=h(I,"DIV",{class:!0});var w=M(t);e=h(w,"DIV",{class:!0});var R=M(e);a=h(R,"H4",{class:!0,"data-svelte-h":!0}),b(a)!=="svelte-1248ucl"&&(a.textContent=n),r=v(R),s=h(R,"DIV",{class:!0});var N=M(s);l=h(N,"BUTTON",{class:!0,"data-svelte-h":!0}),b(l)!=="svelte-1lqmufe"&&(l.textContent=c),i=v(N),f=h(N,"BUTTON",{class:!0,"data-svelte-h":!0}),b(f)!=="svelte-1nvmaod"&&(f.textContent=x),C=v(N),y=h(N,"BUTTON",{class:!0,"data-svelte-h":!0}),b(y)!=="svelte-1qtixei"&&(y.textContent=G),F=v(N),$=h(N,"BUTTON",{class:!0,"data-svelte-h":!0}),b($)!=="svelte-18eoeti"&&($.textContent=O),N.forEach(p),R.forEach(p),Q=v(w),_=h(w,"TEXTAREA",{class:!0,placeholder:!0,rows:!0,spellcheck:!0}),M(_).forEach(p),W=v(w),E=h(w,"DIV",{class:!0});var S=M(E);T=h(S,"BUTTON",{class:!0,"data-svelte-h":!0}),b(T)!=="svelte-a50znl"&&(T.textContent=z),Y=v(S),q=h(S,"BUTTON",{class:!0,"data-svelte-h":!0}),b(q)!=="svelte-nl3wqe"&&(q.textContent=J),S.forEach(p),w.forEach(p),this.h()},h(){u(a,"class","svelte-1ukabzn"),u(l,"class","pattern-button svelte-1ukabzn"),u(f,"class","pattern-button svelte-1ukabzn"),u(y,"class","pattern-button svelte-1ukabzn"),u($,"class","pattern-button svelte-1ukabzn"),u(s,"class","button-grid svelte-1ukabzn"),u(e,"class","example-buttons svelte-1ukabzn"),u(_,"class","input-field svelte-1ukabzn"),u(_,"placeholder","Enter quilt parameters..."),u(_,"rows","8"),u(_,"spellcheck","false"),u(T,"class","game-button svelte-1ukabzn"),u(q,"class","game-button svelte-1ukabzn"),u(E,"class","button-container svelte-1ukabzn"),u(t,"class","control-section svelte-1ukabzn")},m(I,w){k(I,t,w),d(t,e),d(e,a),d(e,r),d(e,s),d(s,l),d(s,i),d(s,f),d(s,C),d(s,y),d(s,F),d(s,$),d(t,Q),d(t,_),tt(_,o[1]),d(t,W),d(t,E),d(E,T),d(E,Y),d(E,q),Z||(K=[B(l,"click",o[6]),B(f,"click",o[7]),B(y,"click",o[8]),B($,"click",o[9]),B(_,"input",o[10]),B(T,"click",o[2]),B(q,"click",o[3])],Z=!0)},p(I,w){w&2&&tt(_,I[1])},d(I){I&&p(t),Z=!1,lt(K)}}}function $t(o){let t,e,a,n,r;return e=new H({props:{title:"Design",$$slots:{default:[ht]},$$scope:{ctx:o}}}),n=new H({props:{title:"Controls",$$slots:{default:[pt]},$$scope:{ctx:o}}}),{c(){t=m("div"),D(e.$$.fragment),a=g(),D(n.$$.fragment),this.h()},l(s){t=h(s,"DIV",{class:!0});var l=M(t);P(e.$$.fragment,l),a=v(l),P(n.$$.fragment,l),l.forEach(p),this.h()},h(){u(t,"class","etude-grid")},m(s,l){k(s,t,l),V(e,t,null),d(t,a),V(n,t,null),r=!0},p(s,l){const c={};l&8193&&(c.$$scope={dirty:l,ctx:s}),e.$set(c);const i={};l&8194&&(i.$$scope={dirty:l,ctx:s}),n.$set(i)},i(s){r||(L(e.$$.fragment,s),L(n.$$.fragment,s),r=!0)},o(s){U(e.$$.fragment,s),U(n.$$.fragment,s),r=!1},d(s){s&&p(t),A(e),A(n)}}}function gt(o){let t,e="Each line should contain:",a,n,r="<li>Scale factor (relative size)</li> <li>Red value (0-255)</li> <li>Green value (0-255)</li> <li>Blue value (0-255)</li>",s,l,c="Comments starting with # are ignored";return{c(){t=m("p"),t.textContent=e,a=g(),n=m("ul"),n.innerHTML=r,s=g(),l=m("p"),l.textContent=c,this.h()},l(i){t=h(i,"P",{class:!0,"data-svelte-h":!0}),b(t)!=="svelte-1vtkw99"&&(t.textContent=e),a=v(i),n=h(i,"UL",{class:!0,"data-svelte-h":!0}),b(n)!=="svelte-q3x2g1"&&(n.innerHTML=r),s=v(i),l=h(i,"P",{class:!0,"data-svelte-h":!0}),b(l)!=="svelte-15a12kc"&&(l.textContent=c),this.h()},h(){u(t,"class","etude-info"),u(n,"class","etude-list"),u(l,"class","etude-info")},m(i,f){k(i,t,f),k(i,a,f),k(i,n,f),k(i,s,f),k(i,l,f)},p:j,d(i){i&&(p(t),p(a),p(n),p(s),p(l))}}}function vt(o){let t,e='<li><strong class="svelte-1ukabzn">Fibonacci:</strong> Uses golden ratio for natural-looking progression</li> <li><strong class="svelte-1ukabzn">Prime:</strong> Based on prime number reciprocals for unique scaling</li> <li><strong class="svelte-1ukabzn">Monochrome:</strong> Gradual progression through grayscale</li> <li><strong class="svelte-1ukabzn">Minimal:</strong> Explores extreme contrast with near-zero values</li>';return{c(){t=m("ul"),t.innerHTML=e,this.h()},l(a){t=h(a,"UL",{class:!0,"data-svelte-h":!0}),b(t)!=="svelte-15dbk81"&&(t.innerHTML=e),this.h()},h(){u(t,"class","etude-list")},m(a,n){k(a,t,n)},p:j,d(a){a&&p(t)}}}function xt(o){let t,e,a,n,r;return e=new H({props:{title:"Input Format",$$slots:{default:[gt]},$$scope:{ctx:o}}}),n=new H({props:{title:"Pattern Types",$$slots:{default:[vt]},$$scope:{ctx:o}}}),{c(){t=m("div"),D(e.$$.fragment),a=g(),D(n.$$.fragment),this.h()},l(s){t=h(s,"DIV",{class:!0});var l=M(t);P(e.$$.fragment,l),a=v(l),P(n.$$.fragment,l),l.forEach(p),this.h()},h(){u(t,"class","etude-grid")},m(s,l){k(s,t,l),V(e,t,null),d(t,a),V(n,t,null),r=!0},p(s,l){const c={};l&8192&&(c.$$scope={dirty:l,ctx:s}),e.$set(c);const i={};l&8192&&(i.$$scope={dirty:l,ctx:s}),n.$set(i)},i(s){r||(L(e.$$.fragment,s),L(n.$$.fragment,s),r=!0)},o(s){U(e.$$.fragment,s),U(n.$$.fragment,s),r=!1},d(s){s&&p(t),A(e),A(n)}}}function _t(o){let t,e,a,n;return t=new et({props:{title:"Visualization",$$slots:{default:[$t]},$$scope:{ctx:o}}}),a=new et({props:{title:"Instructions",$$slots:{default:[xt]},$$scope:{ctx:o}}}),{c(){D(t.$$.fragment),e=g(),D(a.$$.fragment)},l(r){P(t.$$.fragment,r),e=v(r),P(a.$$.fragment,r)},m(r,s){V(t,r,s),k(r,e,s),V(a,r,s),n=!0},p(r,s){const l={};s&8195&&(l.$$scope={dirty:s,ctx:r}),t.$set(l);const c={};s&8192&&(c.$$scope={dirty:s,ctx:r}),a.$set(c)},i(r){n||(L(t.$$.fragment,r),L(a.$$.fragment,r),n=!0)},o(r){U(t.$$.fragment,r),U(a.$$.fragment,r),n=!1},d(r){r&&p(e),A(t,r),A(a,r)}}}function bt(o){let t,e;return t=new it({props:{title:"Quilt Generator",description:"Generate geometric quilt patterns with layered squares of different colors and sizes.",$$slots:{default:[_t]},$$scope:{ctx:o}}}),{c(){D(t.$$.fragment)},l(a){P(t.$$.fragment,a)},m(a,n){V(t,a,n),e=!0},p(a,[n]){const r={};n&8195&&(r.$$scope={dirty:n,ctx:a}),t.$set(r)},i(a){e||(L(t.$$.fragment,a),e=!0)},o(a){U(t.$$.fragment,a),e=!1},d(a){A(t,a)}}}const X=600;function kt(o,t,e){let a,n,r=`# Fibonacci scaling pattern
1.0 255 0 0       # Base red square
0.618 0 255 0     # Green at golden ratio
0.382 0 0 255     # Blue at golden ratio squared
0.236 255 255 0   # Yellow at further reduction
0.146 255 0 255   # Magenta at smallest scale`;const s={fibonacci:`# Fibonacci scaling pattern
1.0 255 0 0       # Base red square
0.618 0 255 0     # Green at golden ratio
0.382 0 0 255     # Blue at golden ratio squared
0.236 255 255 0   # Yellow at further reduction
0.146 255 0 255   # Magenta at smallest scale`,prime:`# Prime number scaling
1.0 255 0 0       # Base square
0.7 0 255 0       # Approx 1/√2
0.5 0 0 255       # 1/2
0.3 255 255 0     # Approx 1/√11
0.2 255 0 255     # 1/5
0.11 0 255 255    # 1/11`,monochrome:`# Monochromatic gradient
1.0 50 50 50      # Dark gray
0.8 100 100 100   # Medium gray
0.6 150 150 150   # Light gray
0.4 200 200 200   # Lighter gray
0.2 250 250 250   # Almost white`,minimal:`# Zero and near-zero colors
1.0 0 0 0         # Black
0.8 1 1 1         # Nearly black
0.6 2 2 2         # Very dark gray
0.4 3 3 3         # Still very dark
0.2 255 255 255   # White contrast`};at(()=>{n=a.getContext("2d"),l()});function l(){const{scales:$,colors:O}=dt(r);mt(n,X,$,O)}function c(){const $=document.createElement("a");$.download="quilt.png",$.href=a.toDataURL("image/png"),$.click()}function i($){e(1,r=s[$]),l()}function f($){st[$?"unshift":"push"](()=>{a=$,e(0,a)})}const x=()=>i("fibonacci"),C=()=>i("prime"),y=()=>i("monochrome"),G=()=>i("minimal");function F(){r=this.value,e(1,r)}return[a,r,l,c,i,f,x,C,y,G,F]}class Mt extends rt{constructor(t){super(),ot(this,t,kt,bt,nt,{})}}export{Mt as component};
